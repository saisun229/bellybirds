{"version":3,"sources":["components/Header/index.tsx","redux.ts","components/Nav/index.tsx","components/Banner/index.tsx","components/Styleguide/Main/index.tsx","components/Home/index.tsx","RootStyles.ts","utility.ts","endpoints.ts","components/Styleguide/Alerts.tsx","components/Login/index.tsx","components/Register/index.tsx","components/Chat/index.tsx","components/index.tsx","index.tsx"],"names":["Header","history","useHistory","className","onClick","push","token","localStorage","getItem","decoded","email","undefined","username","length","jwt_decode","intitalState","user","uname","store","createStore","state","action","newState","type","useStyles","makeStyles","theme","root","width","maxWidth","backgroundColor","palette","background","paper","Nav","getState","isUserAvailable","classes","useState","isActive","setActive","fontSize","List","component","aria-label","ListItem","button","ListItemText","primary","window","removeItem","dispatch","Banner","Main","props","class","children","Home","useButtonStyles","secondary","border","borderRadius","boxShadow","color","height","padding","useTextFieldStyles","margin","spacing","API_URL","location","hostname","origin","axiosApiCall","path","payload","a","console","log","config","headers","axios","post","JSON","stringify","res","data","REGISTER_USER_ENDPOINT","LOGIN_USER_ENDPOINT","createStyles","marginLeft","Alerts","severity","text","Alert","variant","Login","buttonclasses","textFieldClasses","setEmail","password","setPassword","setText","setSeverity","response","status","message","setItem","noValidate","autoComplete","TextField","id","placeholder","label","value","onChange","e","target","Button","fullWidth","Register","setUname","test","HOST","Chat","chatMessage","setChatMessage","chatMessages","setChatMessages","wsRef","setWsRef","messagesEnd","setMessagesEnd","sendMessage","readyState","WebSocket","OPEN","send","intent","useEffect","document","body","scrollHeight","scrollIntoView","behavior","ws","addEventListener","count","once","replace","event","parse","processMessage","oldMessages","reverse","close","map","index","style","float","clear","ref","el","onKeyDown","key","role","App","exact","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.264337b8.chunk.js","sourcesContent":["import './style.scss';\nimport { useHistory } from \"react-router-dom\"\n\nexport default function Header() {\n  const history = useHistory();\n\n  function redirectToHome() {\n    history.push(\"/\");\n  }\n\n  return (\n    <header className=\"home__header\">\n      <div className=\"home__header__logo\" onClick={redirectToHome}></div>\n    </header>\n  )\n}","\nimport {createStore} from \"redux\";\nimport jwt_decode from \"jwt-decode\";\n\nconst token: any = localStorage.getItem(\"token\");\nlet decoded = {\n    email: undefined,\n    username: undefined\n}\nif(token && token.length > 20) {\n     decoded = jwt_decode(token);\n}\n\n\n\nconst intitalState = {\n    user: {\n        email: decoded.email ? decoded.email : \"\",\n        uname: decoded.username ? decoded.username : \"\"\n    }\n}\n\n\nconst reducer: any = (state: any = intitalState, action: any) => {\n     const newState:any = state;\n     if(action.type === \"getUser\") {\n         newState.user = action.user\n     }\n     return newState;\n}\n\nexport const store = createStore(reducer);\n\n","import './style.scss';\nimport HomeIcon from '@material-ui/icons/Home';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport ChatIcon from '@material-ui/icons/Chat';\nimport { store } from \"../../redux\";\nimport React, { useState }  from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useHistory } from \"react-router-dom\";\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    maxWidth: 360,\n    backgroundColor: theme.palette.background.paper,\n  },\n}));\n\nexport default function Nav() {\n\n  const history = useHistory();\n  const state: any = store.getState();\n  const isUserAvailable = state.user.email ? true : false;\n  const classes = useStyles();\n\n  const [isActive, setActive] = useState(false);\n\n  const handleToggle = () => {\n    setActive(!isActive);  \n  };\n  function redirectUserToLogin() {\n    history.push(\"/login\");\n  }\n\n  function redirectUserToRegister() {\n    history.push(\"/register\");\n  }\n\n  function redirectUserToChat() {\n    isUserAvailable ? history.push(\"/chat\") : history.push(\"/login\");\n  }\n\n  function redirectUserToHome() {\n    isUserAvailable ? history.push(\"/\") : history.push(\"/login\");\n  }\n\n  function logoutUser() {\n    window.localStorage.removeItem(\"token\");\n    store.dispatch({ type: 'getUser', user: { email: \"\", uname: \"\" } });\n    history.push(\"/\");\n  }\n\n  return (\n    <nav className=\"nav\">\n      <div className=\"nav--home\">\n        <HomeIcon fontSize=\"large\" onClick={redirectUserToHome}></HomeIcon>\n      </div>\n      <div className=\"nav--chat\">\n        <ChatIcon fontSize=\"large\" onClick={redirectUserToChat}></ChatIcon>\n      </div>\n      <div className=\"nav--account\">\n        <AccountCircleIcon fontSize=\"large\" onClick={handleToggle}></AccountCircleIcon>\n\n        <div  className={ isActive ? \"nav--account-popup active\" : \"nav--account-popup\"}>\n          {\n            isUserAvailable ? (\n            <div className={classes.root}>\n              <List component=\"nav\" aria-label=\"user login logout\">\n                <ListItem button>\n                  <ListItemText primary={ 'Hi ' + state.user.uname + '!'} />\n                </ListItem>\n                <ListItem button onClick={logoutUser}>\n                  <ListItemText primary=\"Logout\"/>\n                </ListItem>\n              </List>\n            </div>) : (            \n            <div className={classes.root}>\n              <List component=\"nav\" aria-label=\"user login logout\">\n                <ListItem button onClick={redirectUserToLogin}>\n                  <ListItemText primary=\"Login\" />\n                </ListItem>\n                <ListItem button onClick={redirectUserToRegister}>\n                  <ListItemText primary=\"Register\"/>\n                </ListItem>\n              </List>\n            </div>)\n          }\n        </div>\n      </div>\n    </nav>\n  )\n}","import React from \"react\";\nimport Header from \"../Header\";\nimport './style.scss';\nimport Nav from \"../Nav\";\n\n\nexport default function Banner() {\n\n    return (\n        <div className=\"banner\">\n            <Header></Header>\n            <Nav></Nav>\n        </div>\n    )\n}","import './style.scss';\n\n\nexport default function Main(props: any) {\n\n  return (\n      <main className={props.class}>\n          {props.children}\n     </main>\n  )\n}","import React from \"react\";\nimport './style.scss';\nimport Banner from \"../Banner\";\nimport Main from \"../Styleguide/Main\";\n\n\nexport default function Home() {\n\n  return (\n    <div className=\"home\">\n      <Banner></Banner>\n      <Main>\n        <div className=\"home__navigation\">\n          <h6>Home Page, Coming soon...</h6>\n        </div>\n      </Main>\n    </div>\n  )\n}","import { makeStyles } from '@material-ui/core/styles';\nexport const useButtonStyles = makeStyles({\n    secondary: {\n      background: 'linear-gradient(45deg, #9ca20e 30%, #dacb1c 90%)',\n      border: 0,\n      borderRadius: 3,\n      boxShadow: '0 3px 5px 2px rgba(255, 105, 135, .3)',\n      color: 'black',\n      height: 48,\n      padding: '0 30px',\n    },\n    primary: {\n      background: 'linear-gradient(45deg, #101010 30%, #171514 90%)',\n      border: 0,\n      borderRadius: 3,\n      boxShadow: '0 3px 5px 2px rgba(255, 105, 135, .3)',\n      color: 'white',\n      height: 48,\n      padding: '0 30px',\n    }\n  });\n\n\nexport const useTextFieldStyles = makeStyles((theme) => ({\n  root: {\n    '& > *': {\n      margin: theme.spacing(1),\n      width: '25ch',\n    },\n  },\n}));","import axios, { AxiosResponse } from \"axios\"\nexport const IS_DEVELOPMENT = window.location.hostname === \"localhost\";\nexport const IS_PRODUCTION = !IS_DEVELOPMENT;\n\nconst API_URL = IS_PRODUCTION ? `${window.location.origin}:1337` : \"http://localhost:1337\";\n\nexport async function apiCall(path: string, payload: {[key: string]:any})  {\n    console.log(\"api call request\");\n    const res = await fetch(`${API_URL}${path}`, {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n            \"x-access-token\": window.localStorage.getItem(\"token\") || \"\",\n            \"Access-Control-Allow-Origin\": \"true\",\n            \"Access-Control-Allow-Credentials\": \"true\"\n        },\n        body: JSON.stringify(payload)\n    }).then(t => t.json())\n    console.log(\"api call request response\", res);\n    return res;\n}\n\nexport async function axiosApiCall(path: string, payload: {[key: string]:any})  {\n    console.log(\"api call request\");\n    const config = {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"x-access-token\": localStorage.getItem(\"token\") || \"\"\n        }\n      }\n    const res: AxiosResponse = await axios.post(`${API_URL}${path}`, JSON.stringify(payload), config);\n    console.log(\"api call request response\", res.data);\n    return res.data;\n}","export const REGISTER_USER_ENDPOINT = \"/api/register\";\nexport const LOGIN_USER_ENDPOINT = \"/api/login\";","import React from 'react';\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles';\nimport Alert from '@material-ui/lab/Alert';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      width: '80%',\n      marginLeft: '8px'\n    },\n  }),\n);\n\ninterface AlertType {\n  severity: string;\n  text: string;\n}\n\nexport default function Alerts({ severity, text}: AlertType ): any {\n  const classes = useStyles();\n\n       switch(severity) {\n          case \"error\":\n              return <div className={classes.root}><Alert variant=\"outlined\" severity=\"error\">{text}</Alert></div>\n          case \"warning\": \n              return <div className={classes.root}><Alert variant=\"outlined\" severity=\"warning\">{text}</Alert></div>\n          case \"info\":\n              return <div className={classes.root}><Alert variant=\"outlined\" severity=\"info\">{text}</Alert></div>\n          case \"success\":\n              return <div className={classes.root}><Alert variant=\"outlined\" severity=\"success\">{text}</Alert></div>\n          default:\n            return \"\";    \n       }\n\n}","import React, { useState } from \"react\";\nimport Banner from \"../Banner\";\nimport './style.scss';\nimport { TextField } from '@material-ui/core';\nimport { useHistory } from \"react-router-dom\";\nimport { Button } from \"@material-ui/core\";\nimport { useButtonStyles, useTextFieldStyles } from \"../../RootStyles\";\nimport { axiosApiCall } from \"../../utility\";\nimport { LOGIN_USER_ENDPOINT } from \"../../endpoints\";\nimport Alerts from \"../Styleguide/Alerts\";\nimport jwt_decode from \"jwt-decode\";\nimport { store } from \"../../redux\";\n\n\nexport default function Login() {\n    const buttonclasses = useButtonStyles();\n    const textFieldClasses = useTextFieldStyles();\n\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [text, setText] = useState(\"\");\n    const [severity, setSeverity] = useState(\"\");\n    const history = useHistory();\n\n    async function loginUser(): Promise<void> {\n        try {\n            const response: any = await axiosApiCall(LOGIN_USER_ENDPOINT, { email, password });\n            setSeverity(response.status);\n            setText(response.message)\n            //TODO: bad practice --> refresh tokens\n            window.localStorage.setItem(\"token\", response.token);\n            if (response.status === \"success\") {\n                history.push(\"/chat\");\n                const token: any = localStorage.getItem(\"token\");\n                const decoded: any = jwt_decode(token)\n                store.dispatch({ type: 'getUser', user: { email: decoded.email, uname: decoded.username } });\n            }\n        } catch (e) {\n            setSeverity(\"error\");\n            setText(\"Unexpected Error occured\");\n        }\n    }\n\n    return (\n        <div className=\"login\">\n            <Banner></Banner>\n                <div className=\"login__form\">\n                    <Alerts severity={severity} text={text}></Alerts>\n                    <h2>Login</h2>\n                    <form className={textFieldClasses.root} noValidate autoComplete=\"off\">\n                        <TextField id=\"filled-basic\" placeholder=\"you@awesome.com\" label=\"Your Email\" value={email} onChange={(e) => setEmail(e.target.value)} variant=\"outlined\" />\n                        <TextField id=\"filled-basic\" placeholder=\"p@$$w0rd\" label=\"Your Password\" value={password} onChange={(e) => setPassword(e.target.value)} variant=\"outlined\" />\n                        <Button fullWidth className={buttonclasses.secondary} onClick={loginUser} color=\"default\" >Login</Button>\n                    </form>\n                </div>\n        </div>\n    )\n}","import React, {useState} from \"react\";\nimport Banner from \"../Banner\";\nimport { TextField } from '@material-ui/core';\nimport './style.scss';\nimport { Button } from \"@material-ui/core\";\nimport { useButtonStyles, useTextFieldStyles } from \"../../RootStyles\";\nimport {REGISTER_USER_ENDPOINT} from \"../../endpoints\";\nimport { axiosApiCall } from \"../../utility\";\nimport Alerts from \"../Styleguide/Alerts\";\nimport { useHistory } from \"react-router-dom\";\nimport jwt_decode from \"jwt-decode\";\nimport {store} from \"../../redux\";\n\n\n\nexport default function Register() {\n    const buttonclasses = useButtonStyles();\n    const textFieldClasses = useTextFieldStyles();\n\n    const [uname, setUname] = useState(\"\");\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [text, setText] = useState(\"\");\n    const [severity, setSeverity] = useState(\"\");\n\n    const history = useHistory();\n\n    async function registerUser() {\n\n        const patternMatched = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/.test(email);\n        if (!patternMatched) {\n           setSeverity(\"error\");\n           setText(\"Invalid Email Address\"); \n           return false;\n           }\n         if(!password && password.length > 7) {\n            setSeverity(\"error\");\n            setText(\"Password should be atleast 8 digits\"); \n            return false;\n         }  \n\n        try {\n            const response = await axiosApiCall(REGISTER_USER_ENDPOINT, {uname, email, password});\n            console.log(\"ressss\", response);\n            setSeverity(response.status);\n            setText(response.message);\n            if (response.status === \"success\") {\n                window.localStorage.setItem(\"token\", response.token);\n                const token: any = window.localStorage.getItem(\"token\");\n                const decoded: any = jwt_decode(token)\n                store.dispatch({type: 'getUser', user: { email: decoded.email, uname: decoded.username}})\n                history.push(\"/chat\");\n            }\n        } catch(e) {\n            setSeverity(\"error\");\n            setText(\"Unexpected Error occured\");\n        }\n    }\n\n\n  return (\n      <div className=\"register\">\n        <Banner></Banner>\n        <div className=\"register__form\">\n        <Alerts severity= {severity} text={text}></Alerts>\n        <h2>Register</h2>\n        <form className={textFieldClasses.root} noValidate autoComplete=\"off\">\n           <TextField fullWidth id=\"filled-basic\" placeholder=\"John123\" label=\"User Name\" value={uname} onChange={(e) => setUname(e.target.value)} variant=\"outlined\" />\n           <TextField fullWidth id=\"filled-basic\" placeholder=\"you@awesome.com\" label=\"Your Email\" value={email} onChange={(e) => setEmail(e.target.value)} variant=\"outlined\" />\n           <TextField fullWidth id=\"filled-basic\" placeholder=\"p@$$w0rd\" label=\"Your Password\" variant=\"outlined\" value={password} onChange={(e) => setPassword(e.target.value)}/>\n           <Button fullWidth className={buttonclasses.secondary} onClick={registerUser} color=\"default\" >Register</Button>\n       </form>\n    </div>\n     </div>\n  )\n}","import React, { useEffect, useState } from \"react\";\nimport { TextField } from '@material-ui/core';\nimport Banner from \"../Banner\";\nimport './style.scss';\nimport { useHistory } from \"react-router-dom\";\nimport { store } from \"../../redux\";\n// import Link from '@material-ui/core/Link';\nimport SendIcon from '@material-ui/icons/Send';\n\n\ntype Message = {\n  email: string;\n  uname: string;\n  message: string;\n  intent: string;\n  //ToDO: date\n}\n\nconst HOST = window.location.hostname + ':1338';\n\nexport default function Chat() {\n\n  const [chatMessage, setChatMessage] = useState<string>(\"\");\n  const [chatMessages, setChatMessages] = useState<Array<Message>>([]);\n  const [wsRef, setWsRef] = useState<null | WebSocket>(null);\n  const [messagesEnd, setMessagesEnd] = useState<any>();\n\n  const history = useHistory();\n\n  const state: any = store.getState();\n\n\n  // let count = 10;\n\n  const handleKeyDown = (event: any) => {\n    if (event.key === 'Enter') {\n      sendMessage();\n    }\n  }\n\n\n  function processMessage(payload: string) {\n    try {\n      return JSON.parse(payload);\n    } catch (e) {\n      return null;\n    }\n  }\n\n  // function showMore() {\n  //   if (wsRef?.readyState !== WebSocket.OPEN) {\n  //     // websocket not connected\n  //     return;\n  //   }\n  //   count = count + 10;\n  //   wsRef.send(JSON.stringify({ intent: 'old-messages', count: count }));\n  // }\n\n  function sendMessage() {\n    if (wsRef?.readyState !== WebSocket.OPEN) {\n      // websocket not connected\n      return;\n    }\n    wsRef.send(JSON.stringify({ message: chatMessage, intent: \"chat\", uname: state.user.uname }))\n    setChatMessage(\"\");\n    // messagesEnd.scrollIntoView({ behavior: \"smooth\" });\n  }\n\n  useEffect(() => {\n    console.log(\"im fired\", document.body.scrollHeight)\n    if(!messagesEnd) return;\n    messagesEnd.scrollIntoView({ behavior: \"smooth\" });\n  });\n\n  useEffect(() => {\n    const ws = new WebSocket(`ws://${HOST}/${localStorage.getItem(\"token\")}`);\n\n    ws.addEventListener(\"open\", () => {\n      ws.send(JSON.stringify({ intent: 'old-messages', count: 100 }));\n    }, { once: true });\n\n    ws.addEventListener(\"error\", () => {\n      history.replace(\"/login\");\n    })\n\n    ws.addEventListener(\"message\", (event) => {\n      const data = event.data;\n      const message: any = processMessage(data);\n      if (!message) return\n      console.log(\"message\", message)\n      if (message.intent === \"chat\") {\n        setChatMessages(oldMessages => [...oldMessages, message as Message]);\n      } else if (message.intent === \"old-messages\") {\n        console.log(\"old-messages\", message.data);\n        setChatMessages(message.data.reverse());\n      }\n\n    })\n\n    setWsRef(ws);\n\n    return () => {\n      ws.close();\n    }\n\n  }, [history])\n\n  return (\n    <div className=\"chat\">\n      <Banner></Banner>\n      {/* <h2>Live Chat</h2> */}\n      <div className=\"chat__wrapper\">\n        <div className=\"chat__messages\">\n          {/* <Link component=\"button\" onClick={showMore}>Show More</Link> */}\n\n          {\n            chatMessages.map((message, index) => {\n              if (message.uname === state.user.uname) {\n                return (<div className=\"chat__messages__item active\" key={index}>\n                  <div className=\"chat__messages__item__wrapper--active\">\n                    <div className=\"author\">{message.uname}:</div>\n                    <div className=\"message\">{message.message}</div>\n                  </div>\n                </div>)\n              } else {\n                return (<div className=\"chat__messages__item\" key={index}>\n                  <div className=\"chat__messages__item__wrapper\">\n                    <div className=\"author\">{message.uname}:</div>\n                    <div className=\"message\">{message.message}</div>\n                  </div>\n                </div>)\n              }\n\n\n            })}\n             <div style={{ float:\"left\", height: \"10px\", clear: \"both\" }}\n             ref={(el) => setMessagesEnd(el) }>\n            </div>\n        </div>\n        <div className=\"chat__box\">\n          <TextField fullWidth onKeyDown={handleKeyDown} placeholder=\"Live Chat Here\" label=\"Type Your Message\" onChange={(e: any) => setChatMessage(e.target.value)} value={chatMessage} variant=\"outlined\" />\n          <div className=\"chat__box__send\" role=\"button\"><SendIcon fontSize=\"large\" onClick={sendMessage}></SendIcon></div>\n        </div>\n      </div>\n    </div>\n  )\n}","import React from 'react';\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Route\n  } from \"react-router-dom\";\nimport Home from \"./Home\";  \nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport Chat from \"./Chat\";\n\nfunction App() {\n  return (\n     <Router>\n        <Switch>\n          <Route path=\"/\" component={Home} exact/>\n          <Route path=\"/login\" component={Login} exact/>\n          <Route path=\"/register\" component={Register} exact/>\n          <Route path=\"/chat\" component={Chat} exact/>\n        </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}