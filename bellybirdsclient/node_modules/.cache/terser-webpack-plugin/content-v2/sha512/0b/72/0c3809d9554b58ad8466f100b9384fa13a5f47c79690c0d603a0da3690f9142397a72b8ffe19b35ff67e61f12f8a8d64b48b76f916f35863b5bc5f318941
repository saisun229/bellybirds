{"code":"(this.webpackJsonpbellybirdsclient=this.webpackJsonpbellybirdsclient||[]).push([[0],{105:function(e,t,a){},106:function(e,t,a){},108:function(e,t,a){},110:function(e,t,a){},130:function(e,t,a){},131:function(e,t,a){},132:function(e,t,a){\"use strict\";a.r(t);var n=a(2),c=a(0),s=a.n(c),r=a(10),i=a.n(r),o=(a(94),a(24)),l=a(11),u=(a(95),a(170)),d=a(71),j=a(34),b=localStorage.getItem(\"token\"),h={email:void 0,username:void 0};b&&b.length>20&&(h=Object(j.a)(b));var m={user:{email:h.email?h.email:\"\",uname:h.username?h.username:\"\"}},O=Object(d.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0,a=e;return\"getUser\"===t.type&&(a.user=t.user),a}));a(97);function g(){var e=Object(l.f)();return Object(n.jsx)(\"header\",{className:\"home__header\",children:Object(n.jsx)(\"div\",{className:\"home__header__logo\",onClick:function(){e.push(\"/\")}})})}a(105),a(106);var v=a(73),p=a.n(v),x=a(78),f=a.n(x),w=a(77),N=a.n(w);function S(){var e=Object(l.f)(),t=!!O.getState().user.email;return Object(n.jsxs)(\"nav\",{className:\"nav\",children:[Object(n.jsx)(\"div\",{className:\"nav--home\",children:Object(n.jsx)(p.a,{fontSize:\"large\",onClick:function(){t?e.push(\"/\"):e.push(\"/login\")}})}),Object(n.jsx)(\"div\",{className:\"nav--chat\",children:Object(n.jsx)(N.a,{fontSize:\"large\",onClick:function(){t?e.push(\"/chat\"):e.push(\"/login\")}})}),Object(n.jsx)(\"div\",{className:\"nav-account\",children:Object(n.jsx)(f.a,{fontSize:\"large\"})})]})}function _(){return Object(n.jsxs)(\"div\",{className:\"banner\",children:[Object(n.jsx)(g,{}),Object(n.jsx)(S,{})]})}a(108);function y(e){return Object(n.jsx)(\"main\",{className:e.class,children:e.children})}function k(){var e=Object(l.f)(),t=!!O.getState().user.email;return Object(n.jsxs)(\"div\",{className:\"home\",children:[Object(n.jsx)(_,{}),Object(n.jsx)(y,{children:Object(n.jsxs)(\"div\",{className:\"home__navigation\",children:[Object(n.jsx)(\"h6\",{children:\"Home Page, Coming soon...\"}),Object(n.jsx)(u.a,{component:\"button\",onClick:function(){t?e.push(\"/chat\"):e.push(\"/login\")},children:\"Link to Live Chat\"})]})})]})}var C=a(21),E=a.n(C),W=a(30),I=a(16),L=(a(110),a(168)),J=a(167),z=a(165),P=Object(z.a)({secondary:{background:\"linear-gradient(45deg, #9ca20e 30%, #dacb1c 90%)\",border:0,borderRadius:3,boxShadow:\"0 3px 5px 2px rgba(255, 105, 135, .3)\",color:\"black\",height:48,padding:\"0 30px\"},primary:{background:\"linear-gradient(45deg, #101010 30%, #171514 90%)\",border:0,borderRadius:3,boxShadow:\"0 3px 5px 2px rgba(255, 105, 135, .3)\",color:\"white\",height:48,padding:\"0 30px\"}}),U=Object(z.a)((function(e){return{root:{\"& > *\":{margin:e.spacing(1),width:\"25ch\"}}}})),Y=a(79),$=a.n(Y),M=!(\"localhost\"===window.location.hostname)?\"\".concat(window.location.origin,\":1337\"):\"http://localhost:1337\";function A(e,t){return R.apply(this,arguments)}function R(){return(R=Object(W.a)(E.a.mark((function e(t,a){var n,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(\"api call request\"),n={headers:{\"Content-Type\":\"application/json\",\"x-access-token\":localStorage.getItem(\"token\")||\"\"}},e.next=4,$.a.post(\"\".concat(M).concat(t),JSON.stringify(a),n);case 4:return c=e.sent,console.log(\"api call request response\",c.data),e.abrupt(\"return\",c.data);case 7:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}var Z=\"/api/register\",q=\"/api/login\",H=a(171),T=a(169),V=Object(z.a)((function(e){return Object(H.a)({root:{width:\"80%\",marginLeft:\"8px\"}})}));function B(e){var t=e.severity,a=e.text,c=V();switch(t){case\"error\":return Object(n.jsx)(\"div\",{className:c.root,children:Object(n.jsx)(T.a,{variant:\"outlined\",severity:\"error\",children:a})});case\"warning\":return Object(n.jsx)(\"div\",{className:c.root,children:Object(n.jsx)(T.a,{variant:\"outlined\",severity:\"warning\",children:a})});case\"info\":return Object(n.jsx)(\"div\",{className:c.root,children:Object(n.jsx)(T.a,{variant:\"outlined\",severity:\"info\",children:a})});case\"success\":return Object(n.jsx)(\"div\",{className:c.root,children:Object(n.jsx)(T.a,{variant:\"outlined\",severity:\"success\",children:a})});default:return\"\"}}function D(){var e=P(),t=U(),a=Object(c.useState)(\"\"),s=Object(I.a)(a,2),r=s[0],i=s[1],o=Object(c.useState)(\"\"),u=Object(I.a)(o,2),d=u[0],b=u[1],h=Object(c.useState)(\"\"),m=Object(I.a)(h,2),g=m[0],v=m[1],p=Object(c.useState)(\"\"),x=Object(I.a)(p,2),f=x[0],w=x[1],N=Object(l.f)();function S(){return(S=Object(W.a)(E.a.mark((function e(){var t,a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A(q,{email:r,password:d});case 3:t=e.sent,w(t.status),v(t.message),window.localStorage.setItem(\"token\",t.token),\"success\"===t.status&&(N.push(\"/chat\"),a=localStorage.getItem(\"token\"),n=Object(j.a)(a),O.dispatch({type:\"getUser\",user:{email:n.email,uname:n.username}})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),w(\"error\"),v(\"Unexpected Error occured\");case 14:case\"end\":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return Object(n.jsxs)(\"div\",{className:\"login\",children:[Object(n.jsx)(_,{}),Object(n.jsxs)(\"div\",{className:\"login__form\",children:[Object(n.jsx)(B,{severity:f,text:g}),Object(n.jsx)(\"h2\",{children:\"Login\"}),Object(n.jsxs)(\"form\",{className:t.root,noValidate:!0,autoComplete:\"off\",children:[Object(n.jsx)(L.a,{id:\"filled-basic\",placeholder:\"you@awesome.com\",label:\"Your Email\",value:r,onChange:function(e){return i(e.target.value)},variant:\"outlined\"}),Object(n.jsx)(L.a,{id:\"filled-basic\",placeholder:\"p@$$w0rd\",label:\"Your Password\",value:d,onChange:function(e){return b(e.target.value)},variant:\"outlined\"}),Object(n.jsx)(J.a,{fullWidth:!0,className:e.secondary,onClick:function(){return S.apply(this,arguments)},color:\"default\",children:\"Login\"})]})]})]})}a(130);function K(){var e=P(),t=U(),a=Object(c.useState)(\"\"),s=Object(I.a)(a,2),r=s[0],i=s[1],o=Object(c.useState)(\"\"),u=Object(I.a)(o,2),d=u[0],b=u[1],h=Object(c.useState)(\"\"),m=Object(I.a)(h,2),g=m[0],v=m[1],p=Object(c.useState)(\"\"),x=Object(I.a)(p,2),f=x[0],w=x[1],N=Object(c.useState)(\"\"),S=Object(I.a)(N,2),y=S[0],k=S[1],C=Object(l.f)();function z(){return(z=Object(W.a)(E.a.mark((function e(){var t,a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/.test(d)){e.next=5;break}return k(\"error\"),w(\"Invalid Email Address\"),e.abrupt(\"return\",!1);case 5:if(g||!(g.length>7)){e.next=9;break}return k(\"error\"),w(\"Password should be atleast 8 digits\"),e.abrupt(\"return\",!1);case 9:return e.prev=9,e.next=12,A(Z,{uname:r,email:d,password:g});case 12:t=e.sent,console.log(\"ressss\",t),k(t.status),w(t.message),\"success\"===t.status&&(window.localStorage.setItem(\"token\",t.token),a=window.localStorage.getItem(\"token\"),n=Object(j.a)(a),O.dispatch({type:\"getUser\",user:{email:n.email,uname:n.username}}),C.push(\"/chat\")),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(9),k(\"error\"),w(\"Unexpected Error occured\");case 23:case\"end\":return e.stop()}}),e,null,[[9,19]])})))).apply(this,arguments)}return Object(n.jsxs)(\"div\",{className:\"register\",children:[Object(n.jsx)(_,{}),Object(n.jsxs)(\"div\",{className:\"register__form\",children:[Object(n.jsx)(B,{severity:y,text:f}),Object(n.jsx)(\"h2\",{children:\"Register\"}),Object(n.jsxs)(\"form\",{className:t.root,noValidate:!0,autoComplete:\"off\",children:[Object(n.jsx)(L.a,{fullWidth:!0,id:\"filled-basic\",placeholder:\"John123\",label:\"User Name\",value:r,onChange:function(e){return i(e.target.value)},variant:\"outlined\"}),Object(n.jsx)(L.a,{fullWidth:!0,id:\"filled-basic\",placeholder:\"you@awesome.com\",label:\"Your Email\",value:d,onChange:function(e){return b(e.target.value)},variant:\"outlined\"}),Object(n.jsx)(L.a,{fullWidth:!0,id:\"filled-basic\",placeholder:\"p@$$w0rd\",label:\"Your Password\",variant:\"outlined\",value:g,onChange:function(e){return v(e.target.value)}}),Object(n.jsx)(J.a,{fullWidth:!0,className:e.secondary,onClick:function(){return z.apply(this,arguments)},color:\"default\",children:\"Register\"})]})]})]})}var F=a(80),G=(a(131),window.location.hostname+\":1338\");function Q(){var e=Object(c.useState)(\"\"),t=Object(I.a)(e,2),a=t[0],s=t[1],r=Object(c.useState)([]),i=Object(I.a)(r,2),o=i[0],d=i[1],j=Object(c.useState)(null),b=Object(I.a)(j,2),h=b[0],m=b[1],g=P(),v=Object(l.f)(),p=O.getState(),x=10;function f(){(null===h||void 0===h?void 0:h.readyState)===WebSocket.OPEN&&(h.send(JSON.stringify({message:a,intent:\"chat\",uname:p.user.uname})),s(\"\"))}return Object(c.useEffect)((function(){var e=new WebSocket(\"ws://\".concat(G,\"/\").concat(localStorage.getItem(\"token\")));return e.addEventListener(\"open\",(function(){e.send(JSON.stringify({intent:\"old-messages\",count:100}))}),{once:!0}),e.addEventListener(\"error\",(function(){v.replace(\"/login\")})),e.addEventListener(\"message\",(function(e){var t=function(e){try{return JSON.parse(e)}catch(t){return null}}(e.data);t&&(console.log(\"message\",t),\"chat\"===t.intent?d((function(e){return[].concat(Object(F.a)(e),[t])})):\"old-messages\"===t.intent&&(console.log(\"old-messages\",t.data),d(t.data.reverse())))})),m(e),function(){e.close()}}),[v]),Object(n.jsxs)(\"div\",{className:\"chat\",children:[Object(n.jsx)(_,{}),Object(n.jsx)(\"h2\",{children:\"Live Chat\"}),Object(n.jsxs)(\"div\",{className:\"chat__wrapper\",children:[Object(n.jsxs)(\"div\",{className:\"chat__messages\",children:[Object(n.jsx)(u.a,{component:\"button\",onClick:function(){(null===h||void 0===h?void 0:h.readyState)===WebSocket.OPEN&&(x+=10,h.send(JSON.stringify({intent:\"old-messages\",count:x})))},children:\"Show More\"}),o.map((function(e,t){return e.uname===p.user.uname?Object(n.jsx)(\"div\",{className:\"chat__messages__item active\",children:Object(n.jsxs)(\"div\",{className:\"chat__messages__item__wrapper--active\",children:[Object(n.jsxs)(\"div\",{className:\"author\",children:[e.uname,\":\"]}),Object(n.jsx)(\"div\",{className:\"message\",children:e.message})]})},t):Object(n.jsx)(\"div\",{className:\"chat__messages__item\",children:Object(n.jsxs)(\"div\",{className:\"chat__messages__item__wrapper\",children:[Object(n.jsxs)(\"div\",{className:\"author\",children:[e.uname,\":\"]}),Object(n.jsx)(\"div\",{className:\"message\",children:e.message})]})},t)}))]}),Object(n.jsxs)(\"div\",{className:\"chat__box\",children:[Object(n.jsx)(L.a,{fullWidth:!0,onKeyDown:function(e){\"Enter\"===e.key&&f()},placeholder:\"Your Message Here\",label:\"Type Your Message\",onChange:function(e){return s(e.target.value)},value:a,variant:\"outlined\"}),Object(n.jsx)(\"br\",{}),Object(n.jsx)(J.a,{fullWidth:!0,className:g.secondary,onClick:f,color:\"default\",children:\"Send Message\"})]})]})]})}var X=function(){return Object(n.jsx)(o.a,{children:Object(n.jsxs)(l.c,{children:[Object(n.jsx)(l.a,{path:\"/\",component:k,exact:!0}),Object(n.jsx)(l.a,{path:\"/login\",component:D,exact:!0}),Object(n.jsx)(l.a,{path:\"/register\",component:K,exact:!0}),Object(n.jsx)(l.a,{path:\"/chat\",component:Q,exact:!0})]})})};i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(X,{})}),document.getElementById(\"root\"))},94:function(e,t,a){},95:function(e,t,a){},97:function(e,t,a){}},[[132,1,2]]]);","name":"static/js/main.4f52c45c.chunk.js","map":{"version":3,"sources":["static/js/main.4f52c45c.chunk.js"],"names":["this","push","105","module","exports","__webpack_require__","106","108","110","130","131","132","__webpack_exports__","r","jsx_runtime","react","react_default","n","react_dom","react_dom_default","react_router_dom","react_router","Link","redux","jwt_decode_esm","redux_token","localStorage","getItem","redux_decoded","email","undefined","username","length","Object","intitalState","user","uname","store","state","arguments","action","newState","type","Header","history","className","children","onClick","Home","Home_default","AccountCircle","AccountCircle_default","Chat","Chat_default","Nav","isUserAvailable","getState","a","fontSize","Banner","Main","props","class","Home_Home","component","regenerator","regenerator_default","asyncToGenerator","slicedToArray","TextField","Button","makeStyles","useButtonStyles","secondary","background","border","borderRadius","boxShadow","color","height","padding","primary","useTextFieldStyles","theme","root","& > *","margin","spacing","width","axios","axios_default","API_URL","window","location","hostname","concat","origin","axiosApiCall","_x3","_x4","_axiosApiCall","apply","mark","_callee2","path","payload","config","res","wrap","_context2","prev","next","console","log","headers","Content-Type","x-access-token","post","JSON","stringify","sent","data","abrupt","stop","REGISTER_USER_ENDPOINT","LOGIN_USER_ENDPOINT","createStyles","Alert","useStyles","marginLeft","Alerts","_ref","severity","text","classes","variant","Login","buttonclasses","textFieldClasses","_useState","_useState2","setEmail","_useState3","_useState4","password","setPassword","_useState5","_useState6","setText","_useState7","_useState8","setSeverity","_loginUser","_callee","response","token","decoded","_context","status","message","setItem","dispatch","t0","noValidate","autoComplete","id","placeholder","label","value","onChange","e","target","fullWidth","Register","setUname","_useState9","_useState10","_registerUser","test","toConsumableArray","HOST","Chat_Chat","chatMessage","setChatMessage","chatMessages","setChatMessages","wsRef","setWsRef","count","sendMessage","readyState","WebSocket","OPEN","send","intent","ws","addEventListener","once","replace","event","parse","processMessage","oldMessages","reverse","close","map","index","onKeyDown","key","components","exact","render","StrictMode","document","getElementById","94","95","97"],"mappings":"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"},"input":"(this[\"webpackJsonpbellybirdsclient\"] = this[\"webpackJsonpbellybirdsclient\"] || []).push([[0],{\n\n/***/ 105:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 106:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 108:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 110:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 130:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 131:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 132:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(10);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(94);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(24);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./src/components/Home/style.scss\nvar style = __webpack_require__(95);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Link/Link.js + 1 modules\nvar Link = __webpack_require__(170);\n\n// EXTERNAL MODULE: ./node_modules/redux/es/redux.js\nvar redux = __webpack_require__(71);\n\n// EXTERNAL MODULE: ./node_modules/jwt-decode/build/jwt-decode.esm.js\nvar jwt_decode_esm = __webpack_require__(34);\n\n// CONCATENATED MODULE: ./src/redux.ts\nvar redux_token=localStorage.getItem(\"token\");var redux_decoded={email:undefined,username:undefined};if(redux_token&&redux_token.length>20){redux_decoded=Object(jwt_decode_esm[\"a\" /* default */])(redux_token);}var intitalState={user:{email:redux_decoded.email?redux_decoded.email:\"\",uname:redux_decoded.username?redux_decoded.username:\"\"}};var reducer=function reducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:intitalState;var action=arguments.length>1?arguments[1]:undefined;var newState=state;if(action.type===\"getUser\"){newState.user=action.user;}return newState;};var store=Object(redux[\"a\" /* createStore */])(reducer);\n// EXTERNAL MODULE: ./src/components/Header/style.scss\nvar Header_style = __webpack_require__(97);\n\n// CONCATENATED MODULE: ./src/components/Header/index.tsx\nfunction Header(){var history=Object(react_router[\"f\" /* useHistory */])();function redirectToHome(){history.push(\"/\");}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"header\",{className:\"home__header\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"home__header__logo\",onClick:redirectToHome})});}\n// EXTERNAL MODULE: ./src/components/Banner/style.scss\nvar Banner_style = __webpack_require__(105);\n\n// EXTERNAL MODULE: ./src/components/Nav/style.scss\nvar Nav_style = __webpack_require__(106);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/Home.js\nvar Home = __webpack_require__(73);\nvar Home_default = /*#__PURE__*/__webpack_require__.n(Home);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/AccountCircle.js\nvar AccountCircle = __webpack_require__(78);\nvar AccountCircle_default = /*#__PURE__*/__webpack_require__.n(AccountCircle);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/Chat.js\nvar Chat = __webpack_require__(77);\nvar Chat_default = /*#__PURE__*/__webpack_require__.n(Chat);\n\n// CONCATENATED MODULE: ./src/components/Nav/index.tsx\n// import { makeStyles, createStyles, Theme } from '@material-ui/core/styles';\n// import Link  from '@material-ui/core/Link';\n// import Typography from '@material-ui/core/Typography';\n// const useStyles = makeStyles((theme: Theme) =>\n//   createStyles({\n//     root: {\n//       '& > * + *': {\n//         marginLeft: theme.spacing(2),\n//         color: '#000'\n//       },\n//     },\n//   }),\n// );\nfunction Nav(){var history=Object(react_router[\"f\" /* useHistory */])();var state=store.getState();var isUserAvailable=state.user.email?true:false;// const classes = useStyles();\n// function redirectToLogin() {\n//   history.push(\"/login\");\n// }\n// function redirectToRegister() {\n//   history.push(\"/register\");\n// }\nfunction redirectUserToChat(){isUserAvailable?history.push(\"/chat\"):history.push(\"/login\");}function redirectUserToHome(){isUserAvailable?history.push(\"/\"):history.push(\"/login\");}// function logoutUser() {\n//   window.localStorage.removeItem(\"token\");\n//   store.dispatch({ type: 'getUser', user: { email: \"\", uname: \"\" } });\n//   history.push(\"/\");\n// }\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"nav\",{className:\"nav\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"nav--home\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Home_default.a,{fontSize:\"large\",onClick:redirectUserToHome})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"nav--chat\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Chat_default.a,{fontSize:\"large\",onClick:redirectUserToChat})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"nav-account\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AccountCircle_default.a,{fontSize:\"large\"})})]});}\n// CONCATENATED MODULE: ./src/components/Banner/index.tsx\nfunction Banner(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"banner\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Header,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Nav,{})]});}\n// EXTERNAL MODULE: ./src/components/Styleguide/Main/style.scss\nvar Main_style = __webpack_require__(108);\n\n// CONCATENATED MODULE: ./src/components/Styleguide/Main/index.tsx\nfunction Main(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"main\",{className:props.class,children:props.children});}\n// CONCATENATED MODULE: ./src/components/Home/index.tsx\nfunction Home_Home(){var history=Object(react_router[\"f\" /* useHistory */])();var state=store.getState();var isUserAvailable=state.user.email?true:false;function redirectUserToChat(){isUserAvailable?history.push(\"/chat\"):history.push(\"/login\");}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"home\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Banner,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Main,{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"home__navigation\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h6\",{children:\"Home Page, Coming soon...\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Link[\"a\" /* default */],{component:\"button\",onClick:redirectUserToChat,children:\"Link to Live Chat\"})]})})]});}\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(21);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(30);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(16);\n\n// EXTERNAL MODULE: ./src/components/Login/style.scss\nvar Login_style = __webpack_require__(110);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/TextField/TextField.js + 36 modules\nvar TextField = __webpack_require__(168);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Button/Button.js\nvar Button = __webpack_require__(167);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/styles/makeStyles.js\nvar makeStyles = __webpack_require__(165);\n\n// CONCATENATED MODULE: ./src/RootStyles.ts\nvar useButtonStyles=Object(makeStyles[\"a\" /* default */])({secondary:{background:'linear-gradient(45deg, #9ca20e 30%, #dacb1c 90%)',border:0,borderRadius:3,boxShadow:'0 3px 5px 2px rgba(255, 105, 135, .3)',color:'black',height:48,padding:'0 30px'},primary:{background:'linear-gradient(45deg, #101010 30%, #171514 90%)',border:0,borderRadius:3,boxShadow:'0 3px 5px 2px rgba(255, 105, 135, .3)',color:'white',height:48,padding:'0 30px'}});var useTextFieldStyles=Object(makeStyles[\"a\" /* default */])(function(theme){return{root:{'& > *':{margin:theme.spacing(1),width:'25ch'}}};});\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(79);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// CONCATENATED MODULE: ./src/utility.ts\nvar IS_DEVELOPMENT=window.location.hostname===\"localhost\";var IS_PRODUCTION=!IS_DEVELOPMENT;var API_URL=IS_PRODUCTION?\"\".concat(window.location.origin,\":1337\"):\"http://localhost:1337\";function apiCall(_x,_x2){return _apiCall.apply(this,arguments);}function _apiCall(){_apiCall=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(path,payload){var res;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(\"api call request\");_context.next=3;return fetch(\"\".concat(API_URL).concat(path),{method:\"POST\",headers:{\"Content-Type\":\"application/json\",\"x-access-token\":window.localStorage.getItem(\"token\")||\"\",\"Access-Control-Allow-Origin\":\"true\",\"Access-Control-Allow-Credentials\":\"true\"},body:JSON.stringify(payload)}).then(function(t){return t.json();});case 3:res=_context.sent;console.log(\"api call request response\",res);return _context.abrupt(\"return\",res);case 6:case\"end\":return _context.stop();}}},_callee);}));return _apiCall.apply(this,arguments);}function axiosApiCall(_x3,_x4){return _axiosApiCall.apply(this,arguments);}function _axiosApiCall(){_axiosApiCall=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(path,payload){var config,res;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log(\"api call request\");config={headers:{\"Content-Type\":\"application/json\",\"x-access-token\":localStorage.getItem(\"token\")||\"\"}};_context2.next=4;return axios_default.a.post(\"\".concat(API_URL).concat(path),JSON.stringify(payload),config);case 4:res=_context2.sent;console.log(\"api call request response\",res.data);return _context2.abrupt(\"return\",res.data);case 7:case\"end\":return _context2.stop();}}},_callee2);}));return _axiosApiCall.apply(this,arguments);}\n// CONCATENATED MODULE: ./src/endpoints.ts\nvar REGISTER_USER_ENDPOINT=\"/api/register\";var LOGIN_USER_ENDPOINT=\"/api/login\";\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/styles/createStyles.js + 1 modules\nvar createStyles = __webpack_require__(171);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/lab/esm/Alert/Alert.js + 6 modules\nvar Alert = __webpack_require__(169);\n\n// CONCATENATED MODULE: ./src/components/Styleguide/Alerts.tsx\nvar useStyles=Object(makeStyles[\"a\" /* default */])(function(theme){return Object(createStyles[\"a\" /* default */])({root:{width:'80%',marginLeft:'8px'}});});function Alerts(_ref){var severity=_ref.severity,text=_ref.text;var classes=useStyles();switch(severity){case\"error\":return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:classes.root,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Alert[\"a\" /* default */],{variant:\"outlined\",severity:\"error\",children:text})});case\"warning\":return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:classes.root,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Alert[\"a\" /* default */],{variant:\"outlined\",severity:\"warning\",children:text})});case\"info\":return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:classes.root,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Alert[\"a\" /* default */],{variant:\"outlined\",severity:\"info\",children:text})});case\"success\":return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:classes.root,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Alert[\"a\" /* default */],{variant:\"outlined\",severity:\"success\",children:text})});default:return\"\";}}\n// CONCATENATED MODULE: ./src/components/Login/index.tsx\nfunction Login(){var buttonclasses=useButtonStyles();var textFieldClasses=useTextFieldStyles();var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=Object(react[\"useState\"])(\"\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=Object(react[\"useState\"])(\"\"),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),text=_useState6[0],setText=_useState6[1];var _useState7=Object(react[\"useState\"])(\"\"),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),severity=_useState8[0],setSeverity=_useState8[1];var history=Object(react_router[\"f\" /* useHistory */])();function loginUser(){return _loginUser.apply(this,arguments);}function _loginUser(){_loginUser=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var response,token,decoded;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axiosApiCall(LOGIN_USER_ENDPOINT,{email:email,password:password});case 3:response=_context.sent;setSeverity(response.status);setText(response.message);//TODO: bad practice --> refresh tokens\nwindow.localStorage.setItem(\"token\",response.token);if(response.status===\"success\"){history.push(\"/chat\");token=localStorage.getItem(\"token\");decoded=Object(jwt_decode_esm[\"a\" /* default */])(token);store.dispatch({type:'getUser',user:{email:decoded.email,uname:decoded.username}});}_context.next=14;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);setSeverity(\"error\");setText(\"Unexpected Error occured\");case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return _loginUser.apply(this,arguments);}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"login\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Banner,{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"login__form\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Alerts,{severity:severity,text:text}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Login\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{className:textFieldClasses.root,noValidate:true,autoComplete:\"off\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{id:\"filled-basic\",placeholder:\"you@awesome.com\",label:\"Your Email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);},variant:\"outlined\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{id:\"filled-basic\",placeholder:\"p@$$w0rd\",label:\"Your Password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},variant:\"outlined\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{fullWidth:true,className:buttonclasses.secondary,onClick:loginUser,color:\"default\",children:\"Login\"})]})]})]});}\n// EXTERNAL MODULE: ./src/components/Register/style.scss\nvar Register_style = __webpack_require__(130);\n\n// CONCATENATED MODULE: ./src/components/Register/index.tsx\nfunction Register(){var buttonclasses=useButtonStyles();var textFieldClasses=useTextFieldStyles();var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),uname=_useState2[0],setUname=_useState2[1];var _useState3=Object(react[\"useState\"])(\"\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=Object(react[\"useState\"])(\"\"),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=Object(react[\"useState\"])(\"\"),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),text=_useState8[0],setText=_useState8[1];var _useState9=Object(react[\"useState\"])(\"\"),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),severity=_useState10[0],setSeverity=_useState10[1];var history=Object(react_router[\"f\" /* useHistory */])();function registerUser(){return _registerUser.apply(this,arguments);}function _registerUser(){_registerUser=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var patternMatched,response,token,decoded;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:patternMatched=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/.test(email);if(patternMatched){_context.next=5;break;}setSeverity(\"error\");setText(\"Invalid Email Address\");return _context.abrupt(\"return\",false);case 5:if(!(!password&&password.length>7)){_context.next=9;break;}setSeverity(\"error\");setText(\"Password should be atleast 8 digits\");return _context.abrupt(\"return\",false);case 9:_context.prev=9;_context.next=12;return axiosApiCall(REGISTER_USER_ENDPOINT,{uname:uname,email:email,password:password});case 12:response=_context.sent;console.log(\"ressss\",response);setSeverity(response.status);setText(response.message);if(response.status===\"success\"){window.localStorage.setItem(\"token\",response.token);token=window.localStorage.getItem(\"token\");decoded=Object(jwt_decode_esm[\"a\" /* default */])(token);store.dispatch({type:'getUser',user:{email:decoded.email,uname:decoded.username}});history.push(\"/chat\");}_context.next=23;break;case 19:_context.prev=19;_context.t0=_context[\"catch\"](9);setSeverity(\"error\");setText(\"Unexpected Error occured\");case 23:case\"end\":return _context.stop();}}},_callee,null,[[9,19]]);}));return _registerUser.apply(this,arguments);}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"register\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Banner,{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"register__form\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Alerts,{severity:severity,text:text}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Register\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{className:textFieldClasses.root,noValidate:true,autoComplete:\"off\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{fullWidth:true,id:\"filled-basic\",placeholder:\"John123\",label:\"User Name\",value:uname,onChange:function onChange(e){return setUname(e.target.value);},variant:\"outlined\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{fullWidth:true,id:\"filled-basic\",placeholder:\"you@awesome.com\",label:\"Your Email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);},variant:\"outlined\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{fullWidth:true,id:\"filled-basic\",placeholder:\"p@$$w0rd\",label:\"Your Password\",variant:\"outlined\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{fullWidth:true,className:buttonclasses.secondary,onClick:registerUser,color:\"default\",children:\"Register\"})]})]})]});}\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(80);\n\n// EXTERNAL MODULE: ./src/components/Chat/style.scss\nvar Chat_style = __webpack_require__(131);\n\n// CONCATENATED MODULE: ./src/components/Chat/index.tsx\nvar HOST=window.location.hostname+':1338';function Chat_Chat(){var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),chatMessage=_useState2[0],setChatMessage=_useState2[1];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),chatMessages=_useState4[0],setChatMessages=_useState4[1];var _useState5=Object(react[\"useState\"])(null),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),wsRef=_useState6[0],setWsRef=_useState6[1];var buttonclasses=useButtonStyles();var history=Object(react_router[\"f\" /* useHistory */])();var state=store.getState();var count=10;var handleKeyDown=function handleKeyDown(event){if(event.key==='Enter'){sendMessage();}};function processMessage(payload){try{return JSON.parse(payload);}catch(e){return null;}}function showMore(){if((wsRef===null||wsRef===void 0?void 0:wsRef.readyState)!==WebSocket.OPEN){// websocket not connected\nreturn;}count=count+10;wsRef.send(JSON.stringify({intent:'old-messages',count:count}));}function sendMessage(){if((wsRef===null||wsRef===void 0?void 0:wsRef.readyState)!==WebSocket.OPEN){// websocket not connected\nreturn;}wsRef.send(JSON.stringify({message:chatMessage,intent:\"chat\",uname:state.user.uname}));setChatMessage(\"\");}Object(react[\"useEffect\"])(function(){var ws=new WebSocket(\"ws://\".concat(HOST,\"/\").concat(localStorage.getItem(\"token\")));ws.addEventListener(\"open\",function(){ws.send(JSON.stringify({intent:'old-messages',count:100}));},{once:true});ws.addEventListener(\"error\",function(){history.replace(\"/login\");});ws.addEventListener(\"message\",function(event){var data=event.data;var message=processMessage(data);if(!message)return;console.log(\"message\",message);if(message.intent===\"chat\"){setChatMessages(function(oldMessages){return[].concat(Object(toConsumableArray[\"a\" /* default */])(oldMessages),[message]);});}else if(message.intent===\"old-messages\"){console.log(\"old-messages\",message.data);setChatMessages(message.data.reverse());}});setWsRef(ws);return function(){ws.close();};},[history]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Banner,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Live Chat\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat__wrapper\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat__messages\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Link[\"a\" /* default */],{component:\"button\",onClick:showMore,children:\"Show More\"}),chatMessages.map(function(message,index){if(message.uname===state.user.uname){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"chat__messages__item active\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat__messages__item__wrapper--active\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"author\",children:[message.uname,\":\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"message\",children:message.message})]})},index);}else{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"chat__messages__item\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat__messages__item__wrapper\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"author\",children:[message.uname,\":\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"message\",children:message.message})]})},index);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat__box\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{fullWidth:true,onKeyDown:handleKeyDown,placeholder:\"Your Message Here\",label:\"Type Your Message\",onChange:function onChange(e){return setChatMessage(e.target.value);},value:chatMessage,variant:\"outlined\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{fullWidth:true,className:buttonclasses.secondary,onClick:sendMessage,color:\"default\",children:\"Send Message\"})]})]})]});}\n// CONCATENATED MODULE: ./src/components/index.tsx\nfunction App(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"c\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/\",component:Home_Home,exact:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/login\",component:Login,exact:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/register\",component:Register,exact:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/chat\",component:Chat_Chat,exact:true})]})});}/* harmony default export */ var components = (App);\n// CONCATENATED MODULE: ./src/index.tsx\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components,{})}),document.getElementById('root'));\n\n/***/ }),\n\n/***/ 94:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 95:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 97:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ })\n\n},[[132,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-6-0!/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/node_modules/react-scripts/node_modules/postcss-loader/src/index.js??postcss!/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/node_modules/resolve-url-loader/index.js??ref--5-oneOf-6-3!/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/src/components/Banner/style.scss","/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-6-0!/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/node_modules/react-scripts/node_modules/postcss-loader/src/index.js??postcss!/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/node_modules/resolve-url-loader/index.js??ref--5-oneOf-6-3!/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/src/components/Nav/style.scss","/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-6-0!/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/node_modules/react-scripts/node_modules/postcss-loader/src/index.js??postcss!/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/node_modules/resolve-url-loader/index.js??ref--5-oneOf-6-3!/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/src/components/Styleguide/Main/style.scss","/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-6-0!/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/node_modules/react-scripts/node_modules/postcss-loader/src/index.js??postcss!/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/node_modules/resolve-url-loader/index.js??ref--5-oneOf-6-3!/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/src/components/Login/style.scss","/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-6-0!/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/node_modules/react-scripts/node_modules/postcss-loader/src/index.js??postcss!/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/node_modules/resolve-url-loader/index.js??ref--5-oneOf-6-3!/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/src/components/Register/style.scss","/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-6-0!/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/node_modules/react-scripts/node_modules/postcss-loader/src/index.js??postcss!/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/node_modules/resolve-url-loader/index.js??ref--5-oneOf-6-3!/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/src/components/Chat/style.scss","/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/src/redux.ts","/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/src/components/Header/index.tsx","/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/src/components/Nav/index.tsx","/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/src/components/Banner/index.tsx","/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/src/components/Styleguide/Main/index.tsx","/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/src/components/Home/index.tsx","/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/src/RootStyles.ts","/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/src/utility.ts","/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/src/endpoints.ts","/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/src/components/Styleguide/Alerts.tsx","/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/src/components/Login/index.tsx","/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/src/components/Register/index.tsx","/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/src/components/Chat/index.tsx","/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/src/components/index.tsx","/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/src/index.tsx","/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/node_modules/react-scripts/node_modules/postcss-loader/src/index.js??postcss!/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/src/index.css","/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-6-0!/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/node_modules/react-scripts/node_modules/postcss-loader/src/index.js??postcss!/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/node_modules/resolve-url-loader/index.js??ref--5-oneOf-6-3!/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/src/components/Home/style.scss","/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-6-0!/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/node_modules/react-scripts/node_modules/postcss-loader/src/index.js??postcss!/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/node_modules/resolve-url-loader/index.js??ref--5-oneOf-6-3!/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/src/components/Header/style.scss"],"names":["token","localStorage","getItem","decoded","email","undefined","username","length","jwt_decode","intitalState","user","uname","reducer","state","action","newState","type","store","createStore","Header","history","useHistory","redirectToHome","push","Nav","getState","isUserAvailable","redirectUserToChat","redirectUserToHome","Banner","Main","props","class","children","Home","useButtonStyles","makeStyles","secondary","background","border","borderRadius","boxShadow","color","height","padding","primary","useTextFieldStyles","theme","root","margin","spacing","width","IS_DEVELOPMENT","window","location","hostname","IS_PRODUCTION","API_URL","origin","apiCall","path","payload","console","log","fetch","method","headers","body","JSON","stringify","then","t","json","res","axiosApiCall","config","axios","post","data","REGISTER_USER_ENDPOINT","LOGIN_USER_ENDPOINT","useStyles","createStyles","marginLeft","Alerts","severity","text","classes","Login","buttonclasses","textFieldClasses","useState","setEmail","password","setPassword","setText","setSeverity","loginUser","response","status","message","setItem","dispatch","e","target","value","Register","setUname","registerUser","patternMatched","test","HOST","Chat","chatMessage","setChatMessage","chatMessages","setChatMessages","wsRef","setWsRef","count","handleKeyDown","event","key","sendMessage","processMessage","parse","showMore","readyState","WebSocket","OPEN","send","intent","useEffect","ws","addEventListener","once","replace","oldMessages","reverse","close","map","index","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","\nimport {createStore} from \"redux\";\nimport jwt_decode from \"jwt-decode\";\n\nconst token: any = localStorage.getItem(\"token\");\nlet decoded = {\n    email: undefined,\n    username: undefined\n}\nif(token && token.length > 20) {\n     decoded = jwt_decode(token);\n}\n\n\n\nconst intitalState = {\n    user: {\n        email: decoded.email ? decoded.email : \"\",\n        uname: decoded.username ? decoded.username : \"\"\n    }\n}\n\n\nconst reducer: any = (state: any = intitalState, action: any) => {\n     const newState:any = state;\n     if(action.type === \"getUser\") {\n         newState.user = action.user\n     }\n     return newState;\n}\n\nexport const store = createStore(reducer);\n\n","import './style.scss';\nimport { useHistory } from \"react-router-dom\"\n\nexport default function Header() {\n  const history = useHistory();\n\n  function redirectToHome() {\n    history.push(\"/\");\n  }\n\n  return (\n    <header className=\"home__header\">\n      <div className=\"home__header__logo\" onClick={redirectToHome}></div>\n    </header>\n  )\n}","import './style.scss';\nimport HomeIcon from '@material-ui/icons/Home';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport ChatIcon from '@material-ui/icons/Chat';\nimport { store } from \"../../redux\";\n// import { makeStyles, createStyles, Theme } from '@material-ui/core/styles';\n// import Link  from '@material-ui/core/Link';\n// import Typography from '@material-ui/core/Typography';\nimport { useHistory } from \"react-router-dom\";\n\n// const useStyles = makeStyles((theme: Theme) =>\n//   createStyles({\n//     root: {\n//       '& > * + *': {\n//         marginLeft: theme.spacing(2),\n//         color: '#000'\n//       },\n//     },\n//   }),\n// );\nexport default function Nav() {\n\n  const history = useHistory();\n  const state: any = store.getState();\n  const isUserAvailable = state.user.email ? true : false;\n  // const classes = useStyles();\n\n  // function redirectToLogin() {\n  //   history.push(\"/login\");\n  // }\n\n  // function redirectToRegister() {\n  //   history.push(\"/register\");\n  // }\n\n  function redirectUserToChat() {\n    isUserAvailable ? history.push(\"/chat\") : history.push(\"/login\");\n  }\n\n  function redirectUserToHome() {\n    isUserAvailable ? history.push(\"/\") : history.push(\"/login\");\n  }\n\n  // function logoutUser() {\n  //   window.localStorage.removeItem(\"token\");\n  //   store.dispatch({ type: 'getUser', user: { email: \"\", uname: \"\" } });\n  //   history.push(\"/\");\n  // }\n\n  return (\n   <nav className=\"nav\">\n     <div className=\"nav--home\">\n     <HomeIcon fontSize=\"large\" onClick={redirectUserToHome}></HomeIcon>\n     </div>\n     <div className=\"nav--chat\">\n     <ChatIcon fontSize=\"large\" onClick={redirectUserToChat}></ChatIcon>\n     </div>\n     <div className=\"nav-account\">\n     <AccountCircleIcon fontSize=\"large\"></AccountCircleIcon>\n     </div>\n     \n      {/* {\n        isUserAvailable ? (\n\n          <div className=\"home__header__nav\">\n           <Typography className={classes.root}>\n             <Link href=\"#\" component=\"button\" onClick={logoutUser}>Logout</Link>\n             <Link href=\"#\" component=\"button\" onClick={redirectUser} color=\"inherit\">Hi {state.user.uname}</Link>\n          </Typography>\n          </div>) : \n          (<div className=\"home__header__nav\">\n           <Typography className={classes.root}>\n             <Link href=\"#\" component=\"button\"  onClick={redirectToLogin}  >Login</Link>\n             <Link href=\"#\" component=\"button\"  onClick={redirectToRegister} >Register</Link>\n          </Typography>\n          </div>)\n\n      } */}\n   </nav>\n  )\n}","import React from \"react\";\nimport Header from \"../Header\";\nimport './style.scss';\nimport Nav from \"../Nav\";\n\n\nexport default function Banner() {\n\n    return (\n        <div className=\"banner\">\n            <Header></Header>\n            <Nav></Nav>\n        </div>\n    )\n}","import './style.scss';\n\n\nexport default function Main(props: any) {\n\n  return (\n      <main className={props.class}>\n          {props.children}\n     </main>\n  )\n}","import React from \"react\";\nimport './style.scss';\nimport Link from '@material-ui/core/Link';\nimport { useHistory } from \"react-router-dom\";\nimport { store } from \"../../redux\";\nimport Banner from \"../Banner\";\nimport Main from \"../Styleguide/Main\";\n\n\nexport default function Home() {\n  const history = useHistory();\n\n  const state: any = store.getState();\n  const isUserAvailable = state.user.email ? true : false\n\n  function redirectUserToChat() {\n    isUserAvailable ? history.push(\"/chat\") : history.push(\"/login\");\n  }\n\n  return (\n    <div className=\"home\">\n      <Banner></Banner>\n      <Main>\n        <div className=\"home__navigation\">\n          <h6>Home Page, Coming soon...</h6>\n          <Link component=\"button\" onClick={redirectUserToChat}>Link to Live Chat</Link>\n        </div>\n      </Main>\n    </div>\n  )\n}","import { makeStyles } from '@material-ui/core/styles';\nexport const useButtonStyles = makeStyles({\n    secondary: {\n      background: 'linear-gradient(45deg, #9ca20e 30%, #dacb1c 90%)',\n      border: 0,\n      borderRadius: 3,\n      boxShadow: '0 3px 5px 2px rgba(255, 105, 135, .3)',\n      color: 'black',\n      height: 48,\n      padding: '0 30px',\n    },\n    primary: {\n      background: 'linear-gradient(45deg, #101010 30%, #171514 90%)',\n      border: 0,\n      borderRadius: 3,\n      boxShadow: '0 3px 5px 2px rgba(255, 105, 135, .3)',\n      color: 'white',\n      height: 48,\n      padding: '0 30px',\n    }\n  });\n\n\nexport const useTextFieldStyles = makeStyles((theme) => ({\n  root: {\n    '& > *': {\n      margin: theme.spacing(1),\n      width: '25ch',\n    },\n  },\n}));","import axios, { AxiosResponse } from \"axios\"\nexport const IS_DEVELOPMENT = window.location.hostname === \"localhost\";\nexport const IS_PRODUCTION = !IS_DEVELOPMENT;\n\nconst API_URL = IS_PRODUCTION ? `${window.location.origin}:1337` : \"http://localhost:1337\";\n\nexport async function apiCall(path: string, payload: {[key: string]:any})  {\n    console.log(\"api call request\");\n    const res = await fetch(`${API_URL}${path}`, {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n            \"x-access-token\": window.localStorage.getItem(\"token\") || \"\",\n            \"Access-Control-Allow-Origin\": \"true\",\n            \"Access-Control-Allow-Credentials\": \"true\"\n        },\n        body: JSON.stringify(payload)\n    }).then(t => t.json())\n    console.log(\"api call request response\", res);\n    return res;\n}\n\nexport async function axiosApiCall(path: string, payload: {[key: string]:any})  {\n    console.log(\"api call request\");\n    const config = {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"x-access-token\": localStorage.getItem(\"token\") || \"\"\n        }\n      }\n    const res: AxiosResponse = await axios.post(`${API_URL}${path}`, JSON.stringify(payload), config);\n    console.log(\"api call request response\", res.data);\n    return res.data;\n}","export const REGISTER_USER_ENDPOINT = \"/api/register\";\nexport const LOGIN_USER_ENDPOINT = \"/api/login\";","import React from 'react';\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles';\nimport Alert from '@material-ui/lab/Alert';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      width: '80%',\n      marginLeft: '8px'\n    },\n  }),\n);\n\ninterface AlertType {\n  severity: string;\n  text: string;\n}\n\nexport default function Alerts({ severity, text}: AlertType ): any {\n  const classes = useStyles();\n\n       switch(severity) {\n          case \"error\":\n              return <div className={classes.root}><Alert variant=\"outlined\" severity=\"error\">{text}</Alert></div>\n          case \"warning\": \n              return <div className={classes.root}><Alert variant=\"outlined\" severity=\"warning\">{text}</Alert></div>\n          case \"info\":\n              return <div className={classes.root}><Alert variant=\"outlined\" severity=\"info\">{text}</Alert></div>\n          case \"success\":\n              return <div className={classes.root}><Alert variant=\"outlined\" severity=\"success\">{text}</Alert></div>\n          default:\n            return \"\";    \n       }\n\n}","import React, { useState } from \"react\";\nimport Banner from \"../Banner\";\nimport './style.scss';\nimport { TextField } from '@material-ui/core';\nimport { useHistory } from \"react-router-dom\";\nimport { Button } from \"@material-ui/core\";\nimport { useButtonStyles, useTextFieldStyles } from \"../../RootStyles\";\nimport { axiosApiCall } from \"../../utility\";\nimport { LOGIN_USER_ENDPOINT } from \"../../endpoints\";\nimport Alerts from \"../Styleguide/Alerts\";\nimport jwt_decode from \"jwt-decode\";\nimport {store} from \"../../redux\";\n\n\nexport default function Login() {\n    const buttonclasses = useButtonStyles();\n    const textFieldClasses = useTextFieldStyles();\n\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [text, setText] = useState(\"\");\n    const [severity, setSeverity] = useState(\"\");\n    const history = useHistory();\n\n    async function loginUser(): Promise<void> {\n        try {\n            const response: any = await axiosApiCall(LOGIN_USER_ENDPOINT, { email, password });\n            setSeverity(response.status);\n            setText(response.message)\n            //TODO: bad practice --> refresh tokens\n            window.localStorage.setItem(\"token\", response.token);\n            if (response.status === \"success\") {\n                history.push(\"/chat\");\n                const token: any = localStorage.getItem(\"token\");\n                const decoded: any = jwt_decode(token)\n                store.dispatch({type: 'getUser', user: { email: decoded.email, uname: decoded.username}});\n            }\n        } catch (e) {\n            setSeverity(\"error\");\n            setText(\"Unexpected Error occured\");\n        }\n    }\n\n    return (\n        <div className=\"login\">\n            <Banner></Banner>\n            <div className=\"login__form\">\n                <Alerts severity={severity} text={text}></Alerts>\n                <h2>Login</h2>\n                <form className={textFieldClasses.root} noValidate autoComplete=\"off\">\n                    <TextField id=\"filled-basic\" placeholder=\"you@awesome.com\" label=\"Your Email\" value={email} onChange={(e) => setEmail(e.target.value)} variant=\"outlined\" />\n                    <TextField id=\"filled-basic\" placeholder=\"p@$$w0rd\" label=\"Your Password\" value={password} onChange={(e) => setPassword(e.target.value)} variant=\"outlined\" />\n                    <Button fullWidth className={buttonclasses.secondary} onClick={loginUser} color=\"default\" >Login</Button>\n                </form>\n            </div>\n        </div>\n    )\n}","import React, {useState} from \"react\";\nimport Banner from \"../Banner\";\nimport { TextField } from '@material-ui/core';\nimport './style.scss';\nimport { Button } from \"@material-ui/core\";\nimport { useButtonStyles, useTextFieldStyles } from \"../../RootStyles\";\nimport {REGISTER_USER_ENDPOINT} from \"../../endpoints\";\nimport { axiosApiCall } from \"../../utility\";\nimport Alerts from \"../Styleguide/Alerts\";\nimport { useHistory } from \"react-router-dom\";\nimport jwt_decode from \"jwt-decode\";\nimport {store} from \"../../redux\";\n\n\n\nexport default function Register() {\n    const buttonclasses = useButtonStyles();\n    const textFieldClasses = useTextFieldStyles();\n\n    const [uname, setUname] = useState(\"\");\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [text, setText] = useState(\"\");\n    const [severity, setSeverity] = useState(\"\");\n\n    const history = useHistory();\n\n    async function registerUser() {\n\n        const patternMatched = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/.test(email);\n        if (!patternMatched) {\n           setSeverity(\"error\");\n           setText(\"Invalid Email Address\"); \n           return false;\n           }\n         if(!password && password.length > 7) {\n            setSeverity(\"error\");\n            setText(\"Password should be atleast 8 digits\"); \n            return false;\n         }  \n\n        try {\n            const response = await axiosApiCall(REGISTER_USER_ENDPOINT, {uname, email, password});\n            console.log(\"ressss\", response);\n            setSeverity(response.status);\n            setText(response.message);\n            if (response.status === \"success\") {\n                window.localStorage.setItem(\"token\", response.token);\n                const token: any = window.localStorage.getItem(\"token\");\n                const decoded: any = jwt_decode(token)\n                store.dispatch({type: 'getUser', user: { email: decoded.email, uname: decoded.username}})\n                history.push(\"/chat\");\n            }\n        } catch(e) {\n            setSeverity(\"error\");\n            setText(\"Unexpected Error occured\");\n        }\n    }\n\n\n  return (\n      <div className=\"register\">\n        <Banner></Banner>\n        <div className=\"register__form\">\n        <Alerts severity= {severity} text={text}></Alerts>\n        <h2>Register</h2>\n        <form className={textFieldClasses.root} noValidate autoComplete=\"off\">\n           <TextField fullWidth id=\"filled-basic\" placeholder=\"John123\" label=\"User Name\" value={uname} onChange={(e) => setUname(e.target.value)} variant=\"outlined\" />\n           <TextField fullWidth id=\"filled-basic\" placeholder=\"you@awesome.com\" label=\"Your Email\" value={email} onChange={(e) => setEmail(e.target.value)} variant=\"outlined\" />\n           <TextField fullWidth id=\"filled-basic\" placeholder=\"p@$$w0rd\" label=\"Your Password\" variant=\"outlined\" value={password} onChange={(e) => setPassword(e.target.value)}/>\n           <Button fullWidth className={buttonclasses.secondary} onClick={registerUser} color=\"default\" >Register</Button>\n       </form>\n    </div>\n     </div>\n  )\n}","import React, { useEffect, useState } from \"react\";\nimport { TextField, Button } from '@material-ui/core';\nimport { useButtonStyles } from \"../../RootStyles\"\nimport Banner from \"../Banner\";\nimport './style.scss';\nimport { useHistory } from \"react-router-dom\";\nimport { store } from \"../../redux\";\nimport Link from '@material-ui/core/Link';\n\n\ntype Message = {\n  email: string;\n  uname: string;\n  message: string;\n  intent: string;\n  //ToDO: date\n}\n\nconst HOST = window.location.hostname + ':1338';\n\nexport default function Chat() {\n\n  const [chatMessage, setChatMessage] = useState<string>(\"\");\n  const [chatMessages, setChatMessages] = useState<Array<Message>>([]);\n  const [wsRef, setWsRef] = useState<null | WebSocket>(null);\n\n  const buttonclasses = useButtonStyles();\n\n  const history = useHistory();\n\n  const state: any = store.getState();\n\n\n  let count = 10;\n\n  const handleKeyDown = (event: any) => {\n    if (event.key === 'Enter') {\n      sendMessage();\n    }\n  }\n\n\n  function processMessage(payload: string) {\n    try {\n      return JSON.parse(payload);\n    } catch (e) {\n      return null;\n    }\n  }\n\n  function showMore() {\n    if (wsRef?.readyState !== WebSocket.OPEN) {\n      // websocket not connected\n      return;\n    }\n    count = count + 10;\n    wsRef.send(JSON.stringify({ intent: 'old-messages', count: count }));\n  }\n\n  function sendMessage() {\n    if (wsRef?.readyState !== WebSocket.OPEN) {\n      // websocket not connected\n      return;\n    }\n    wsRef.send(JSON.stringify({ message: chatMessage, intent: \"chat\", uname: state.user.uname }))\n    setChatMessage(\"\");\n  }\n\n  useEffect(() => {\n    const ws = new WebSocket(`ws://${HOST}/${localStorage.getItem(\"token\")}`);\n\n    ws.addEventListener(\"open\", () => {\n      ws.send(JSON.stringify({ intent: 'old-messages', count: 100 }));\n    }, { once: true });\n\n    ws.addEventListener(\"error\", () => {\n      history.replace(\"/login\");\n    })\n\n    ws.addEventListener(\"message\", (event) => {\n      const data = event.data;\n      const message: any = processMessage(data);\n      if (!message) return\n      console.log(\"message\", message)\n      if (message.intent === \"chat\") {\n        setChatMessages(oldMessages => [...oldMessages, message as Message]);\n      } else if (message.intent === \"old-messages\") {\n        console.log(\"old-messages\", message.data);\n        setChatMessages(message.data.reverse());\n      }\n\n    })\n\n    setWsRef(ws);\n\n    return () => {\n      ws.close();\n    }\n\n  }, [history])\n\n  return (\n    <div className=\"chat\">\n      <Banner></Banner>\n      <h2>Live Chat</h2>\n      <div className=\"chat__wrapper\">\n        <div className=\"chat__messages\">\n          <Link component=\"button\" onClick={showMore}>Show More</Link>\n\n          {\n            chatMessages.map((message, index) => {\n              if (message.uname === state.user.uname) {\n                return (<div className=\"chat__messages__item active\" key={index}>\n                  <div className=\"chat__messages__item__wrapper--active\">\n                    <div className=\"author\">{message.uname}:</div>\n                    <div className=\"message\">{message.message}</div>\n                  </div>\n                </div>)\n              } else {\n                return (<div className=\"chat__messages__item\" key={index}>\n                  <div className=\"chat__messages__item__wrapper\">\n                    <div className=\"author\">{message.uname}:</div>\n                    <div className=\"message\">{message.message}</div>\n                  </div>\n                </div>)\n              }\n\n\n            })}\n        </div>\n        <div className=\"chat__box\">\n\n          <TextField fullWidth onKeyDown={handleKeyDown} placeholder=\"Your Message Here\" label=\"Type Your Message\" onChange={(e: any) => setChatMessage(e.target.value)} value={chatMessage} variant=\"outlined\" />\n          <br />\n          <Button fullWidth className={buttonclasses.secondary} onClick={sendMessage} color=\"default\" >Send Message</Button>\n        </div>\n      </div>\n    </div>\n  )\n}","import React from 'react';\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Route\n  } from \"react-router-dom\";\nimport Home from \"./Home\";  \nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport Chat from \"./Chat\";\n\nfunction App() {\n  return (\n     <Router>\n        <Switch>\n          <Route path=\"/\" component={Home} exact/>\n          <Route path=\"/login\" component={Login} exact/>\n          <Route path=\"/register\" component={Register} exact/>\n          <Route path=\"/chat\" component={Chat} exact/>\n        </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin"]}}