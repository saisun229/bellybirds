{"ast":null,"code":"import _regeneratorRuntime from \"/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport axios from \"axios\";\nexport var IS_DEVELOPMENT = window.location.hostname === \"localhost\";\nexport var IS_PRODUCTION = !IS_DEVELOPMENT;\nvar API_URL = IS_PRODUCTION ? \"\".concat(window.location.origin) : \"http://localhost:1337\";\nexport function apiCall(_x, _x2) {\n  return _apiCall.apply(this, arguments);\n}\n\nfunction _apiCall() {\n  _apiCall = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(path, payload) {\n    var res;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            console.log(\"api call request\");\n            _context.next = 3;\n            return fetch(\"\".concat(API_URL).concat(path), {\n              method: \"POST\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n                \"x-access-token\": window.localStorage.getItem(\"token\") || \"\",\n                \"Access-Control-Allow-Origin\": \"true\",\n                \"Access-Control-Allow-Credentials\": \"true\"\n              },\n              body: JSON.stringify(payload)\n            }).then(function (t) {\n              return t.json();\n            });\n\n          case 3:\n            res = _context.sent;\n            console.log(\"api call request response\", res);\n            return _context.abrupt(\"return\", res);\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _apiCall.apply(this, arguments);\n}\n\nexport function axiosApiCall(_x3, _x4) {\n  return _axiosApiCall.apply(this, arguments);\n}\n\nfunction _axiosApiCall() {\n  _axiosApiCall = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(path, payload) {\n    var config, res;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            console.log(\"api call request\");\n            config = {\n              headers: {\n                \"Content-Type\": \"application/json\",\n                \"x-access-token\": localStorage.getItem(\"token\") || \"\"\n              }\n            };\n            _context2.next = 4;\n            return axios.post(\"\".concat(API_URL).concat(path), JSON.stringify(payload), config);\n\n          case 4:\n            res = _context2.sent;\n            console.log(\"api call request response\", res.data);\n            return _context2.abrupt(\"return\", res.data);\n\n          case 7:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _axiosApiCall.apply(this, arguments);\n}","map":{"version":3,"sources":["/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/src/utility.ts"],"names":["axios","IS_DEVELOPMENT","window","location","hostname","IS_PRODUCTION","API_URL","origin","apiCall","path","payload","console","log","fetch","method","headers","localStorage","getItem","body","JSON","stringify","then","t","json","res","axiosApiCall","config","post","data"],"mappings":";;AAAA,OAAOA,KAAP,MAAqC,OAArC;AACA,OAAO,IAAMC,cAAc,GAAGC,MAAM,CAACC,QAAP,CAAgBC,QAAhB,KAA6B,WAApD;AACP,OAAO,IAAMC,aAAa,GAAG,CAACJ,cAAvB;AAEP,IAAMK,OAAO,GAAGD,aAAa,aAAMH,MAAM,CAACC,QAAP,CAAgBI,MAAtB,IAAiC,uBAA9D;AAEA,gBAAsBC,OAAtB;AAAA;AAAA;;;sEAAO,iBAAuBC,IAAvB,EAAqCC,OAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AACHC,YAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AADG;AAAA,mBAEeC,KAAK,WAAIP,OAAJ,SAAcG,IAAd,GAAsB;AACzCK,cAAAA,MAAM,EAAE,MADiC;AAEzCC,cAAAA,OAAO,EAAE;AACL,gCAAgB,kBADX;AAEL,kCAAkBb,MAAM,CAACc,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,KAAwC,EAFrD;AAGL,+CAA+B,MAH1B;AAIL,oDAAoC;AAJ/B,eAFgC;AAQzCC,cAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeV,OAAf;AARmC,aAAtB,CAAL,CASfW,IATe,CASV,UAAAC,CAAC;AAAA,qBAAIA,CAAC,CAACC,IAAF,EAAJ;AAAA,aATS,CAFf;;AAAA;AAEGC,YAAAA,GAFH;AAYHb,YAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ,EAAyCY,GAAzC;AAZG,6CAaIA,GAbJ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAgBP,gBAAsBC,YAAtB;AAAA;AAAA;;;2EAAO,kBAA4BhB,IAA5B,EAA0CC,OAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AACHC,YAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACMc,YAAAA,MAFH,GAEY;AACXX,cAAAA,OAAO,EAAE;AACP,gCAAgB,kBADT;AAEP,kCAAkBC,YAAY,CAACC,OAAb,CAAqB,OAArB,KAAiC;AAF5C;AADE,aAFZ;AAAA;AAAA,mBAQ8BjB,KAAK,CAAC2B,IAAN,WAAcrB,OAAd,SAAwBG,IAAxB,GAAgCU,IAAI,CAACC,SAAL,CAAeV,OAAf,CAAhC,EAAyDgB,MAAzD,CAR9B;;AAAA;AAQGF,YAAAA,GARH;AASHb,YAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ,EAAyCY,GAAG,CAACI,IAA7C;AATG,8CAUIJ,GAAG,CAACI,IAVR;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["import axios, { AxiosResponse } from \"axios\"\nexport const IS_DEVELOPMENT = window.location.hostname === \"localhost\";\nexport const IS_PRODUCTION = !IS_DEVELOPMENT;\n\nconst API_URL = IS_PRODUCTION ? `${window.location.origin}` : \"http://localhost:1337\";\n\nexport async function apiCall(path: string, payload: {[key: string]:any})  {\n    console.log(\"api call request\");\n    const res = await fetch(`${API_URL}${path}`, {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n            \"x-access-token\": window.localStorage.getItem(\"token\") || \"\",\n            \"Access-Control-Allow-Origin\": \"true\",\n            \"Access-Control-Allow-Credentials\": \"true\"\n        },\n        body: JSON.stringify(payload)\n    }).then(t => t.json())\n    console.log(\"api call request response\", res);\n    return res;\n}\n\nexport async function axiosApiCall(path: string, payload: {[key: string]:any})  {\n    console.log(\"api call request\");\n    const config = {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"x-access-token\": localStorage.getItem(\"token\") || \"\"\n        }\n      }\n    const res: AxiosResponse = await axios.post(`${API_URL}${path}`, JSON.stringify(payload), config);\n    console.log(\"api call request response\", res.data);\n    return res.data;\n}"]},"metadata":{},"sourceType":"module"}