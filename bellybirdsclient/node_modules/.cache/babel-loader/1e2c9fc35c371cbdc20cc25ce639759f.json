{"ast":null,"code":"import _slicedToArray from\"/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import'./style.scss';import HomeIcon from'@material-ui/icons/Home';import AccountCircleIcon from'@material-ui/icons/AccountCircle';import ChatIcon from'@material-ui/icons/Chat';import{store}from\"../../redux\";import React,{useState}from'react';import{makeStyles}from'@material-ui/core/styles';import{useHistory}from\"react-router-dom\";import List from'@material-ui/core/List';import ListItem from'@material-ui/core/ListItem';import ListItemText from'@material-ui/core/ListItemText';var useStyles=makeStyles(function(theme){return{root:{width:'100%',maxWidth:360,backgroundColor:theme.palette.background.paper}};});export default function Nav(){var history=useHistory();var state=store.getState();var isUserAvailable=state.user.email?true:false;var classes=useStyles();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isActive=_useState2[0],setActive=_useState2[1];var handleToggle=function handleToggle(){setActive(!isActive);};function redirectUserToLogin(){history.push(\"/login\");}function redirectUserToRegister(){history.push(\"/register\");}function redirectUserToChat(){isUserAvailable?history.push(\"/chat\"):history.push(\"/login\");}function redirectUserToHome(){isUserAvailable?history.push(\"/\"):history.push(\"/login\");}function logoutUser(){window.localStorage.removeItem(\"token\");store.dispatch({type:'getUser',user:{email:\"\",uname:\"\"}});history.push(\"/\");}return/*#__PURE__*/_jsxs(\"nav\",{className:\"nav\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"nav--home\",children:/*#__PURE__*/_jsx(HomeIcon,{fontSize:\"large\",onClick:redirectUserToHome})}),/*#__PURE__*/_jsx(\"div\",{className:\"nav--chat\",children:/*#__PURE__*/_jsx(ChatIcon,{fontSize:\"large\",onClick:redirectUserToChat})}),/*#__PURE__*/_jsxs(\"div\",{className:\"nav--account\",children:[/*#__PURE__*/_jsx(AccountCircleIcon,{fontSize:\"large\",onClick:handleToggle}),/*#__PURE__*/_jsx(\"div\",{className:isActive?\"nav--account-popup active\":\"nav--account-popup\",children:isUserAvailable?/*#__PURE__*/_jsx(\"div\",{className:classes.root,children:/*#__PURE__*/_jsxs(List,{component:\"nav\",\"aria-label\":\"user login logout\",children:[/*#__PURE__*/_jsx(ListItem,{button:true,children:/*#__PURE__*/_jsx(ListItemText,{primary:'Hi '+state.user.uname+'!'})}),/*#__PURE__*/_jsx(ListItem,{button:true,onClick:logoutUser,children:/*#__PURE__*/_jsx(ListItemText,{primary:\"Logout\"})})]})}):/*#__PURE__*/_jsx(\"div\",{className:classes.root,children:/*#__PURE__*/_jsxs(List,{component:\"nav\",\"aria-label\":\"user login logout\",children:[/*#__PURE__*/_jsx(ListItem,{button:true,onClick:redirectUserToLogin,children:/*#__PURE__*/_jsx(ListItemText,{primary:\"Login\"})}),/*#__PURE__*/_jsx(ListItem,{button:true,onClick:redirectUserToRegister,children:/*#__PURE__*/_jsx(ListItemText,{primary:\"Register\"})})]})})})]})]});}","map":{"version":3,"sources":["/Users/saikrishnareddymudhiganti/Desktop/MyProjects/projects/bellybird/bellybirdsclient/src/components/Nav/index.tsx"],"names":["HomeIcon","AccountCircleIcon","ChatIcon","store","React","useState","makeStyles","useHistory","List","ListItem","ListItemText","useStyles","theme","root","width","maxWidth","backgroundColor","palette","background","paper","Nav","history","state","getState","isUserAvailable","user","email","classes","isActive","setActive","handleToggle","redirectUserToLogin","push","redirectUserToRegister","redirectUserToChat","redirectUserToHome","logoutUser","window","localStorage","removeItem","dispatch","type","uname"],"mappings":"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","sourcesContent":["import './style.scss';\nimport HomeIcon from '@material-ui/icons/Home';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport ChatIcon from '@material-ui/icons/Chat';\nimport { store } from \"../../redux\";\nimport React, { useState }  from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useHistory } from \"react-router-dom\";\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    maxWidth: 360,\n    backgroundColor: theme.palette.background.paper,\n  },\n}));\n\nexport default function Nav() {\n\n  const history = useHistory();\n  const state: any = store.getState();\n  const isUserAvailable = state.user.email ? true : false;\n  const classes = useStyles();\n\n  const [isActive, setActive] = useState(false);\n\n  const handleToggle = () => {\n    setActive(!isActive);  \n  };\n  function redirectUserToLogin() {\n    history.push(\"/login\");\n  }\n\n  function redirectUserToRegister() {\n    history.push(\"/register\");\n  }\n\n  function redirectUserToChat() {\n    isUserAvailable ? history.push(\"/chat\") : history.push(\"/login\");\n  }\n\n  function redirectUserToHome() {\n    isUserAvailable ? history.push(\"/\") : history.push(\"/login\");\n  }\n\n  function logoutUser() {\n    window.localStorage.removeItem(\"token\");\n    store.dispatch({ type: 'getUser', user: { email: \"\", uname: \"\" } });\n    history.push(\"/\");\n  }\n\n  return (\n    <nav className=\"nav\">\n      <div className=\"nav--home\">\n        <HomeIcon fontSize=\"large\" onClick={redirectUserToHome}></HomeIcon>\n      </div>\n      <div className=\"nav--chat\">\n        <ChatIcon fontSize=\"large\" onClick={redirectUserToChat}></ChatIcon>\n      </div>\n      <div className=\"nav--account\">\n        <AccountCircleIcon fontSize=\"large\" onClick={handleToggle}></AccountCircleIcon>\n\n        <div  className={ isActive ? \"nav--account-popup active\" : \"nav--account-popup\"}>\n          {\n            isUserAvailable ? (\n            <div className={classes.root}>\n              <List component=\"nav\" aria-label=\"user login logout\">\n                <ListItem button>\n                  <ListItemText primary={ 'Hi ' + state.user.uname + '!'} />\n                </ListItem>\n                <ListItem button onClick={logoutUser}>\n                  <ListItemText primary=\"Logout\"/>\n                </ListItem>\n              </List>\n            </div>) : (            \n            <div className={classes.root}>\n              <List component=\"nav\" aria-label=\"user login logout\">\n                <ListItem button onClick={redirectUserToLogin}>\n                  <ListItemText primary=\"Login\" />\n                </ListItem>\n                <ListItem button onClick={redirectUserToRegister}>\n                  <ListItemText primary=\"Register\"/>\n                </ListItem>\n              </List>\n            </div>)\n          }\n        </div>\n      </div>\n    </nav>\n  )\n}"]},"metadata":{},"sourceType":"module"}